{% extends "base.html" %}

{% block content %}
<h1 class="mb-4">Schedule Meeting</h1>

<form method="POST">
    <div class="mb-3">
        <label for="committee_id" class="form-label">Committee (SC or WG)</label>
        <select name="committee_id" id="committee_id" class="form-select" required>
            {% for committee in committees %}
            <option value="{{ committee.id }}">
                {% if committee.parent_id %}
                WG: {{ committee.code }} - {{ committee.title }} (NMC: {{ committee.nmc.code }})
                {% else %}
                SC: {{ committee.code }} - {{ committee.title }} (NMC: {{ committee.nmc.code }})
                {% endif %}
            </option>
            {% endfor %}
        </select>
    </div>

    <div class="mb-3">
        <label for="date" class="form-label">Meeting Date</label>
        <input type="text" class="form-control" id="datepicker" name="date" placeholder="YYYY-MM-DD" required>
    </div>

    <div class="mb-3">
        <label for="agenda" class="form-label">Agenda</label>
        <textarea name="agenda" id="agenda" class="form-control" rows="4"></textarea>
    </div>

    <button type="submit" class="btn btn-primary">Add Meeting</button>
</form>

<!-- Datepicker Script -->
<script>
    $(function () {
        $('#datepicker').datepicker({
            format: 'yyyy-mm-dd',
            autoclose: true,
            todayHighlight: true
        }).datepicker('setDate', new Date()); // auto-fill today
    });
</script>
{% endblock %}